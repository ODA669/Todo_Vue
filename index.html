<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluation 1</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

</head>

<body>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #0c8951;
        }

        #app {
            display: flex;
            flex-wrap: wrap;
            flex-direction: column;
            gap: 20px;
            justify-content: flex-start;
        }

        .navbar {
            background-color: #007BFF;
            padding: 10px 20px;
            border-radius: 5px;
            max-width: 250px;
            margin: 20px auto;
            text-align: center;
        }

        .navbar ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .navbar ul li a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            padding: 5px 10px;
            border-radius: 3px;
            transition: background-color 0.2s;
        }

        .navbar ul li a:hover {
            background-color: #0056b3;
        }

        .todo {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            padding: 25px;
            width: 350px;
            margin: 0 auto;
            text-align: center;
            transition: transform 0.3s ease;
        }

        .todo:hover {
            transform: translateY(-3px);
        }

        .todo h1 {
            font-size: 1.8rem;
            color: #4f46e5;
            margin-bottom: 10px;
        }

        .todo h2 {
            font-size: 1.2rem;
            color: #333;
            margin-bottom: 20px;
        }

        .todo button {
            background-color: #4f46e5;
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            margin: 5px;
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: bold;
            transition: background-color 0.2s, transform 0.2s;
        }

        .todo button:hover {
            background-color: #4338ca;
            transform: scale(1.05);
        }

        .todo button:disabled {
            background-color: #a5b4fc;
            cursor: not-allowed;
            transform: none;
        }

        .todo p {
            font-size: 0.95rem;
            margin-top: 15px;
            color: red;
            font-weight: bold;
        }

        .todo-list {
            list-style: none;
        }

        .todo-list li {
            cursor: pointer;
            padding: 8px;
            border-radius: 5px;
            transition: all 0.3s ease;
        }

        /*changement de coleur quand la tache est complet*/
        .todo-list li.completed {
            background-color: #eeca90;
            color: #2d2d2d;
            text-decoration: line-through;
            transform: scale(1.02);
        }
    </style>
    <div id="app">
        <nav class="navbar">
            <ul>
                <li><a href="index.html">Exercice 1</a></li>
                <li><a href="exer2.html">Exercice 2</a></li>
            </ul>
        </nav>
        <div class="todo">
            <h1>TO DO List</h1>
            <h2>Ajouter une tâche</h2>
            <h2>Tâches terminées : {{ completedCount }}</h2>
            <!-- bouton pour ajouter les taches -->
            <button @click="ajouterTache" :disabled="tache.length >= 10">
                Ajouter jusqu’à 10 tâches
            </button>

            <p v-if="tache.length >= 10" style="color:red;">Le tableau est plein !</p>

            <!-- ici on va montrer les element ajoute un par un-->

            <ul class="todo-list">
                <li v-for="(item, index) in tache" :key="index" @click="tacheFini(index)"
                    :class="item.completed ? 'completed' : ''">
                    {{ index + 1 }}. {{ item.text }}
                    <button @click.stop="supprimerTache(index)">x</button>
                </li>
            </ul>
        </div>

        <script>
            const app = Vue.createApp({
                data() {
                    return {
                        // array de taches
                        tache: [],
                        //counteer en 0
                        completedCount: 0
                    }
                },
                methods: {
                    ajouterTache() {
                        if (this.tache.length < 10) {
                            let item = prompt("Donne-moi une tâche:");
                            if (item) {
                                this.tache.push({
                                    text: item,
                                    completed: false
                                });
                            }
                        }
                    },
                    supprimerTache(index) {
                        this.tache.splice(index, 1);
                    },
                    tacheFini(index) {
                        this.tache[index].completed = !this.tache[index].completed;
                    }
                },
                // watcher pour ecouter les changement pour les taches 
                watch: {
                    tache: {
                        handler(changement) {
                            this.completedCount = changement.filter(t => t.completed).length;
                        },
                        deep: true
                    }
                }
            });
            app.mount("#app");
        </script>
</body>


</html>